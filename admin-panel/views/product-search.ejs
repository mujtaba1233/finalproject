<%- include header.ejs %>
<div ng-init="init('search')" ng-controller="ProductController">
	<div class="row">
		<div class="col-md-6">
			<h2>Search Product</h2>
		</div>
	</div>
	<div class="table-responsive">
		<table st-filtered-collection st-table="list" st-safe-src="products" class="table table-striped table-hover  table-scroll" id="table-scroll">
			<div class="col-lg-12">
				<button type="button" class="btn btn-outline-success mb-2 pull-right"
					ng-click="updateExportFileName(true)" ng-csv="filteredCollectionData" csv-header="selectedOption"
					csv-column-order="selectedOption" filename="{{filename}}"><i class="fa fa-file"></i> Export
					{{filteredCollectionData.length}}
					Products</button>
			</div>
			<thead>
				<tr>
					<th style="width:11%" class="text-center">Product Image</th>
					<th style="width:16%" st-sort="ProductCode" class="text-center">Product Code</th>
					<th style="width:30%" st-sort="ProductDescriptionShort" class="text-center">Short Description</th>
					<th style="width:8%" st-sort="PriorityIndex" class="text-center">Priority Index<p
							class="explanation">
							sorting order(1 is highest)</p>
					</th>
					<th style="width:8%" st-sort="ProductPrice" class="text-center">Price</th>
					<th style="width:8%" st-sort="HideProduct" class="text-center">Visibility<p class="explanation">show
							on
							store front</p>
					</th>
					<th style="width:8%" st-sort="IsActive" class="text-center">Active</th>
					<th style="width:8%" st-sort="isSerialAble" class="text-center">Serialized?</th>
					<th style="width:25%" class="text-center" class="text-center">Action</th>
				</tr>
				<tr>
					<th colspan="12">
						<input st-search="" class="custom-input form-control" placeholder="global search ..."
							type="text" />
					</th>
				</tr>
				<tr>
					<th colspan="1">
						<input st-search="ProductCode" class="custom-input form-control"
							placeholder="product code search ..." type="text" />
					</th>
					<th colspan="4">
						<input st-search="ProductDescriptionShort" class="custom-input form-control"
							placeholder="short description search ..." type="text" />
					</th>
					<th>
						<select class="custom-input form-control" st-search="HideProduct">
							<option value="">All</option>
							<option value="Y">Hidden</option>
							<option value="N">Visible</option>
							<!-- <option value="">Hidden</option> -->
						</select>
						<!-- <input  ng-model="hideProductSearch" type="checkbox" ng-value="" /> -->
					</th>
					<th>
						<select class="custom-input form-control" st-search="IsActive">
							<option value="">All</option>
							<option value="1">Active</option>
							<option value="0">In-Active</option>
							<!-- <option value="">Hidden</option> -->
						</select>
						<!-- <input  ng-model="hideProductSearch" type="checkbox" ng-value="" /> -->
					</th>
					<th>
						<select class="custom-input form-control" st-search="isSerialAble">
							<option value="">All</option>
							<option value="1">Yes</option>
							<option value="0">No</option>
							<!-- <option value="">Hidden</option> -->
						</select>
						<!-- <input  ng-model="hideProductSearch" type="checkbox" ng-value="" /> -->
					</th>
					<th colspan="2">
						<input st-search="FreeAccessories" class="custom-input form-control"
							placeholder="free accessories search ..." type="text" />
					</th>
 				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="row in list">
					<!-- <td style="word-break: break-all;">{{row.id}}</td> -->
					<td style="word-break: break-all;" class="text-center">
						<img ng-src="{{'/files/images/'+row.ProductPhotoURL}}" alt="{{row.ProductCode}}" height="42"
							width="42" />
					</td>
					<td title="{{row.ProductCode}}" style="word-break: break-all;" class="text-center">
						<strong>{{row.ProductCode}}</strong>
					</td>
					<td title="{{row.ProductDescriptionShort}}" ng-bind-html="(row.ProductDescriptionShort)"
						style="word-break: break-all;">
						<pre></pre>
					</td>
					<td ng-dblclick="row.isPriorityEditMode = true" title="{{row.PriorityIndex}}"
						style="word-break: break-all; text-align:center;">
						<span ng-if="!row.isPriorityEditMode">{{row.PriorityIndex}}</span>
						<input ng-if="row.isPriorityEditMode" type="number" class="form-control"
							ng-model="row.PriorityIndex">
						<a ng-if="row.isPriorityEditMode" style="margin-left: 4px; float: right;" class="text-success"
							href="javascript:void(0)" ng-click="updatePriorityIndex(row)"><i
								class="fa fa-check"></i></a>
						<a ng-if="row.isPriorityEditMode" style="margin-left: 4px;" class="text-warning"
							href="javascript:void(0)" ng-click="row.isPriorityEditMode = false"><i
								class="fa fa-times"></i></a>
					</td>
					<td title="{{row.ProductPrice}}" style="word-break: break-all;" class="text-center">
						${{row.ProductPrice | number}}</td>
					<td class="text-center {{row.HideProduct === 'Y'? 'text-danger' : 'text-success'}}">
						{{row.HideProduct === 'Y'? "No" : "Yes"}}</td>
					<td class="text-center {{row.IsActive == 1? 'text-success' : 'text-danger'}}">
						{{row.IsActive == 1? "Active" : "In-Active"}}</td>
					<td class="text-center {{row.isSerialAble == 1? 'text-success' : 'text-danger'}}">
						{{row.isSerialAble == 1? "Yes" : "No"}}</td>
					<td title="" class="text-center orderSearchAction">
						&nbsp;<a href="/product?productId={{row.ProductID}}" title="Edit Product" target="_blank"
							class="btn btn-sm btn-primary">
							<i class="fa fa-pencil fa-2x"> </i>
						</a>
						&nbsp;
						<a href="/product?clone={{row.ProductID}}" title="Clone Product"  target="_blank"
							class="btn btn-sm btn-success">
							<i class="fa fa-copy" style="font-size: 24px;"> 
							</i>
						</a>
						&nbsp;
						<button ng-click="removeProduct(row.ProductID,$index)" title="Remove Product"
							class="btn btn-sm btn-danger">
							<i class="fa fa-times fa-2x"> </i>
						</button>
					</td>
				</tr>
			</tbody>
			<tfoot class="text-center d-flex justify-content-center tfoot-toggle">
				<tr>
					<td colspan="12" >
						<div class="paging">
							<div st-pagination=""  st-template="template/st-pagination.html" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>
						</div>
					</td>
				</tr>
			</tfoot>
		</table>
	</div>

</div>


<%- include footer.ejs %>